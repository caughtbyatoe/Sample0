//
//  Scene.cc
//  Sample0
//

#include "Scene.h"

const Scene simpleQuadScene {
    /* cam = */ {
        /* r = */ 2.0,
        /* phi = */ 90.0,
        /* theta = */ 90.0,
        /* fov = */ 65.0,
        /* near = */ 0.01,
        /* far = */ 1000.0,
    },
    /* vars = */ {
        /* rMax = */ 10.0,
        /* worldTrans = */ { 0.0, 0.0, 0.0 },
        /* worldRot = */ { 0.0, 0.0, 0.0 },
        /* worldScale = */ { 1.0, 1.0, 1.0 },
    },
    /* meshes = */ {
        /* [0] = */ {
            /* name = */ "quad0",
            /* vertTbl = */ {
                { -0.5, -0.5, 0.0 },
                {  0.5, -0.5, 0.0 },
                {  0.5,  0.5, 0.0 },
                { -0.5,  0.5, 0.0 },
            },
            /* vertClr = */ {
                { 1.0, 0.0, 0.0 },
                { 0.0, 1.0, 0.0 },
                { 0.0, 0.0, 1.0 },
                { 0.5, 0.5, 0.0 },
            },
            /* faces = */ {
                { 0, 1, 2, 3 },
            },
        },
        /* [1] = */ {
            /* name = */ "quad1",
            /* vertTbl = */ {
                {  0.5, -0.5,  0.0 },
                {  0.5, -0.5, -1.0 },
                {  0.5,  0.5, -1.0 },
                {  0.5,  0.5,  0.0 },
            },
            /* vertClr = */ {
                { 1.0, 0.0, 0.0 },
                { 0.0, 1.0, 0.0 },
                { 0.0, 0.0, 1.0 },
                { 0.5, 0.5, 0.0 },
            },
            /* faces = */ {
                { 0, 1, 2, 3 },
            },
        },
    }
};

const Scene cornellBoxScene {
    /* cam = */ {
        /* r = */ 1500.0,
        /* phi = */ 90.0,
        /* theta = */ 90.0,
        /* fov = */ 65.0,
        /* near = */ 1.0,
        /* far = */ 10000.0,
    },
    /* vars = */ {
        /* rMax   = */ 3000.0,
        /* worldTrans = */ { -260.0, -260.0, 0.0 },
        /* worldRot = */ { 0.0, 0.0, 0.0 },
        /* worldScale = */ { 1.0, 1.0, 1.0 },
    },
    /* meshes = */ {
        /* [0] = */ {
            /* name = */ "ceiling light",
            /* vertTbl = */ {
                { 343, 548.29999, 227 }, // -.5 from ceiling
                { 343, 548.29999, 332 },
                { 213, 548.29999, 332 },
                { 213, 548.29999, 227 }
            },
            /* vertClr = */ {
                { 1.0, 1.0, 1.0 },
                { 1.0, 1.0, 1.0 },
                { 1.0, 1.0, 1.0 },
                { 1.0, 1.0, 1.0 },
            },
            /* faces = */ {
                { 0, 1, 2, 3 }
            }
        },
        /* [1] = */ {
            /* name = */ "floor",
            /* vertTbl = */ {
                { 549.59998, 0, 0 },
                { 0,         0, 0 },
                { 0,         0, 559.20001 },
                { 549.59998, 0, 559.20001 }
            },
            /* vertClr = */ {
                { 0.4, 0.4, 0.4 },
                { 0.4, 0.4, 0.4 },
                { 0.4, 0.4, 0.4 },
                { 0.4, 0.4, 0.4 },
            },
            /* faces = */ {
                { 0, 1, 2, 3 }
            }
        },
        /* [2] = */ {
            /* name = */ "ceiling",
            /* vertTbl = */ {
                { 549.59998, 548.79999, 0 },
                { 549.59998, 548.79999, 559.20001 },
                { 0,         548.79999, 559.20001 },
                { 0,         548.79999, 0 }
            },
            /* vertClr = */ {
                { 0.6, 0.6, 0.6 },
                { 0.6, 0.6, 0.6 },
                { 0.6, 0.6, 0.6 },
                { 0.6, 0.6, 0.6 },
            },
            /* faces = */ {
                { 0, 1, 2, 3 }
            }
        },
        /* [3] = */ {
            /* name = */ "back wall",
            /* vertTbl = */ {
                { 0,         0,         0 },
                { 549.59998, 0,         0 },
                { 549.59998, 548.79999, 0 },
                { 0,         548.79999, 0 }
            },
            /* vertClr = */ {
                { 0.5, 0.5, 0.5 },
                { 0.5, 0.5, 0.5 },
                { 0.5, 0.5, 0.5 },
                { 0.5, 0.5, 0.5 },
            },
            /* faces = */ {
                { 0, 1, 2, 3 }
            }
        },
        /* [4] = */ {
            /* name = */ "green wall",
            /* vertTbl = */ {
                { 0, 0,         559.20001 },
                { 0, 0,         0 },
                { 0, 548.79999, 0 },
                { 0, 548.79999, 559.20001 }
            },
            /* vertClr = */ {
                { 0.0, 0.5, 0.0 },
                { 0.0, 0.5, 0.0 },
                { 0.0, 0.5, 0.0 },
                { 0.0, 0.5, 0.0 },
            },
            /* quadTbl = */ {
                { 0, 1, 2, 3 }
            }
        },
        /* [5] = */ {
            /* name = */ "red wall",
            /* vertTbl = */ {
                { 549.59998, 0,         0 },
                { 549.59998, 0,         559.20001 },
                { 549.59998, 548.79999, 559.20001 },
                { 549.59998, 548.79999, 0 }
            },
            /* vertClr = */ {
                { 0.5, 0.0, 0.0 },
                { 0.5, 0.0, 0.0 },
                { 0.5, 0.0, 0.0 },
                { 0.5, 0.0, 0.0 },
            },
            /* quadTbl = */ {
                { 0, 1, 2, 3 }
            }
        },
        /* [6] = */ {
            /* name  */ "large box",
            /* vertTbl = */ {
                { 130.000000, 330.000000, 65.000000 },
                { 82.000000, 330.000000, 225.000000 },
                { 240.000000, 330.000000, 272.000000 },
                { 290.000000, 330.000000, 114.000000 },
                { 290.000000, 0.000000, 114.000000 },
                { 240.000000, 0.000000, 272.000000 },
                { 82.000000, 0.000000, 225.000000 },
                { 130.000000, 0.000000, 65.000000 }
            },
            /* vertClr = */ {
                { 0.5, 0.5, 0.0 },
                { 0.5, 0.5, 0.0 },
                { 0.5, 0.5, 0.0 },
                { 0.5, 0.5, 0.0 },
                { 0.5, 0.5, 0.0 },
                { 0.5, 0.5, 0.0 },
                { 0.5, 0.5, 0.0 },
                { 0.5, 0.5, 0.0 },
            },
            /* quadTbl = */ {
                { 0, 1, 2, 3 },
                { 4, 3, 2, 5 },
                { 7, 0, 3, 4 },
                { 6, 1, 0, 7 },
                { 5, 2, 1, 6 },
                { 4, 5, 6, 7 }
            }
        },
        /* [7] = */ {
            /* name = */ "small box",
            /* vertTbl = */ {
                { 423.000000, 165.000000, 247.000000 },
                { 265.000000, 165.000000, 296.000000 },
                { 314.000000, 165.000000, 456.000000 },
                { 472.000000, 165.000000, 406.000000 },
                { 472.000000, 0.000000, 406.000000 },
                { 314.000000, 0.000000, 456.000000 },
                { 265.000000, 0.000000, 296.000000 },
                { 423.000000, 0.000000, 247.000000 }
            },
            /* vertClr = */ {
                { 0.0, 0.0, 0.5 },
                { 0.0, 0.0, 0.5 },
                { 0.0, 0.0, 0.5 },
                { 0.0, 0.0, 0.5 },
                { 0.0, 0.0, 0.5 },
                { 0.0, 0.0, 0.5 },
                { 0.0, 0.0, 0.5 },
                { 0.0, 0.0, 0.5 },
            },
            /* quadTbl = */ {
                { 0, 1, 2, 3 },
                { 4, 3, 2, 5 },
                { 7, 0, 3, 4 },
                { 6, 1, 0, 7 },
                { 5, 2, 1, 6 },
                { 4, 5, 6, 7 }
            }
        },
    }
};

const Scene &getSimpleQuadScene()
{
    return simpleQuadScene;
}

const Scene &getCornellBoxScene()
{
    return cornellBoxScene;
}

static int defaultScene = 0;
const int numScenes = 2;

const Scene &getDefaultScene()
{
    switch (defaultScene) {
        case 0:
            return getSimpleQuadScene();
        case 1:
            return getCornellBoxScene();
    };
    return getSimpleQuadScene();
}

const char* getDefaultSceneName()
{
    switch (defaultScene) {
        case 0:
            return "Simple Quads";
        case 1:
            return "Cornell Box";
    }
    return "Simple Quads";
}

void setNextDefaultScene()
{
    defaultScene = (defaultScene + 1) % numScenes;
}
